<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>WebSocket</title>
</head>

<body>
<button type="button" id="button" onclick="sendMsg()">テスト</button>
<p id="output"></p>

<script>
  function sendMsg() {
    let uri = 'ws://localhost:1323/ws';

    console.log("uri: " + uri);
    const ws = new WebSocket(uri);

    ws.onopen = function () {
      console.log('Connected')
      ws.onmessage = function (evt) {
        const out = document.getElementById('output');
        out.innerHTML += evt.data + '<br>';
      }

      setInterval(function () {
        ws.send('test');
      }, 1000);
    }


  }
</script>
</body>

</html>